<app-loading *ngIf="loading && !displayModal"></app-loading>
<div id="test-wrapper" *ngIf="tests || reviewMode">
    <div class="test-container-inner" *ngIf="tests && !reviewMode">
        <app-progress-bar [tests]="tests" [currentStep]="currentStep"></app-progress-bar>
        <div class="test-step-morph" *ngIf="currentStep!=-1">
            <app-keywords-test [isLast]="currentStep==tests.length-1" (next)="nextStep()"
                *ngIf="tests[currentStep].type=='GK'" [test]="tests[currentStep]"></app-keywords-test>
            <app-text-to-speech [isLast]="currentStep==tests.length-1" (next)="nextStep()"
                *ngIf="tests[currentStep].type=='TTS'" [test]="tests[currentStep]"></app-text-to-speech>
            <app-text-to-hide [isLast]="currentStep==tests.length-1" (next)="nextStep()"
                *ngIf="tests[currentStep].type=='TH'" [test]="tests[currentStep]"></app-text-to-hide>
        </div>
    </div>
    <app-grading *ngIf="reviewMode" [day]="testWrapper.test.day" [generalResult]="testRes" [testDetails]="tests"></app-grading>
</div>
<div class="modal-question-container" *ngIf="displayModal">
    <div class="modal-question">
        <h1>Unauthorized acces !</h1>
        <button class="btn btn-primary" (click)="redirect()">Ok</button>
    </div>
</div>